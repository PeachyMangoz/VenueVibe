(()=>{"use strict";var e={772:(e,a,t)=>{var s=t(751),l=t(641);const o={id:"app"},i={class:"main-content"},n={id:"footer",class:"footer"},r={class:"container footer-top"},d={class:"row gy-4"},c={class:"col-lg-4 col-md-6 footer-links"};function u(e,a,t,s,u,v){const p=(0,l.g2)("NavBar"),m=(0,l.g2)("router-view"),b=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)(l.FK,null,[a[10]||(a[10]=(0,l.Lk)("head",null,[(0,l.Lk)("meta",{charset:"utf-8"}),(0,l.Lk)("link",{rel:"icon",href:"/VenueVibe/frontend/public/favicon.ico"}),(0,l.Lk)("title",null,"Boothy")],-1)),(0,l.Lk)("div",o,[a[8]||(a[8]=(0,l.Lk)("header",null,null,-1)),(0,l.bF)(p),(0,l.Lk)("main",i,[(0,l.bF)(m)]),(0,l.Lk)("footer",n,[(0,l.Lk)("div",r,[(0,l.Lk)("div",d,[a[5]||(a[5]=(0,l.Fv)('<div class="col-lg-4 col-md-6 footer-about" data-v-40c99fc3><h5 class="display-6 fw-bold" style="font-weight:600;" data-v-40c99fc3>Boothy</h5><div class="footer-contact pt-3" data-v-40c99fc3><p data-v-40c99fc3> 81 Victoria St</p><p data-v-40c99fc3> Singapore, S188065</p><p class="mt-3" data-v-40c99fc3><strong data-v-40c99fc3>Phone:</strong> <span data-v-40c99fc3>+1 5589 55488 55</span></p><p data-v-40c99fc3><strong data-v-40c99fc3>Email:</strong> <span data-v-40c99fc3>ritz.chong.2022@scis.smu.edu.sg</span></p></div><div class="social-links d-flex mt-4" data-v-40c99fc3><a href="https://twitter.com/sgSMU" data-v-40c99fc3><i class="bi bi-twitter-x" data-v-40c99fc3></i></a><a href="https://www.facebook.com/timothy.swee?mibextid=LQQJ4d" data-v-40c99fc3><i class="bi bi-facebook" data-v-40c99fc3></i></a><a href="https://www.instagram.com/thisisisisshop/" data-v-40c99fc3><i class="bi bi-instagram" data-v-40c99fc3></i></a><a href="https://www.linkedin.com/in/tasminfoo/" data-v-40c99fc3><i class="bi bi-linkedin" data-v-40c99fc3></i></a></div></div>',1)),(0,l.Lk)("div",c,[a[4]||(a[4]=(0,l.Lk)("h5",null,"Useful Links",-1)),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[(0,l.bF)(b,{to:"/",class:"text-decoration-none text-white"},{default:(0,l.k6)((()=>a[0]||(a[0]=[(0,l.eW)("Home")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(b,{to:"/booths",class:"text-decoration-none text-white"},{default:(0,l.k6)((()=>a[1]||(a[1]=[(0,l.eW)("Booth Listings")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(b,{to:"/eventreviews",class:"text-decoration-none text-white"},{default:(0,l.k6)((()=>a[2]||(a[2]=[(0,l.eW)("Event Reviews")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(b,{to:"/collaborate",class:"text-decoration-none text-white"},{default:(0,l.k6)((()=>a[3]||(a[3]=[(0,l.eW)("Collaborate")]))),_:1})])])]),a[6]||(a[6]=(0,l.Lk)("div",{class:"col-lg-4 col-md-12 footer-newsletter"},[(0,l.Lk)("h5",null,"Our Newsletter"),(0,l.Lk)("p",null,"Subscribe to our newsletter and receive the latest news about our products and services!"),(0,l.Lk)("form",{action:"forms/newsletter.php",method:"post",class:"php-email-form"},[(0,l.Lk)("div",{class:"newsletter-form"},[(0,l.Lk)("input",{type:"email",name:"email"}),(0,l.Lk)("input",{type:"submit",value:"Subscribe"})])])],-1)),a[7]||(a[7]=(0,l.Lk)("p",{style:{"text-align":"center"}},"Â© 2024 Boothy",-1))])])]),a[9]||(a[9]=(0,l.Lk)("div",{id:"preloader"},null,-1))])],64)}var v=t(33);const p={class:"navbar navbar-expand-lg navbar-transparent fixed-top"},m={class:"container-fluid"},b={class:"collapse navbar-collapse",id:"navbarNav"},h={class:"navbar-nav ms-auto"},f={key:2,class:"nav-item dropdown"},k={class:"nav-link dropdown-toggle",href:"#",id:"profilesDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},g={class:"dropdown-menu","aria-labelledby":"profilesDropdown"},L={key:3,class:"nav-item"};function y(e,a,t,o,i,n){const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("nav",p,[(0,l.Lk)("div",m,[(0,l.bF)(r,{class:"navbar-brand",to:"/"},{default:(0,l.k6)((()=>a[1]||(a[1]=[(0,l.eW)("Boothy")]))),_:1}),a[5]||(a[5]=(0,l.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,l.Lk)("div",b,[(0,l.Lk)("ul",h,[n.isLoggedIn?(0,l.Q3)("",!0):((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(i.loggedOutLinks,(e=>((0,l.uX)(),(0,l.CE)("li",{class:"nav-item",key:e.name},[(0,l.bF)(r,{class:"nav-link",to:e.path},{default:(0,l.k6)((()=>[(0,l.eW)((0,v.v_)(e.name),1)])),_:2},1032,["to"])])))),128)),n.isLoggedIn?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(i.loggedInLinks,(e=>((0,l.uX)(),(0,l.CE)("li",{class:"nav-item",key:e.name},[(0,l.bF)(r,{class:"nav-link",to:e.path},{default:(0,l.k6)((()=>[(0,l.eW)((0,v.v_)(e.name),1)])),_:2},1032,["to"])])))),128)):(0,l.Q3)("",!0),n.isLoggedIn?((0,l.uX)(),(0,l.CE)("li",f,[(0,l.Lk)("a",k,(0,v.v_)(e.user.data.displayName||"Profile"),1),(0,l.Lk)("ul",g,[(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"dropdown-item",to:"/businessprofile"},{default:(0,l.k6)((()=>a[2]||(a[2]=[(0,l.eW)(" Business Profile ")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"dropdown-item",to:"/applicationprofiles"},{default:(0,l.k6)((()=>a[3]||(a[3]=[(0,l.eW)(" Application Profiles ")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.Lk)("a",{class:"dropdown-item",href:"#",onClick:a[0]||(a[0]=(0,s.D$)(((...e)=>n.logout&&n.logout(...e)),["prevent"]))},"Logout")])])])):(0,l.Q3)("",!0),n.isLoggedIn?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",L,[(0,l.bF)(r,{class:"nav-link",to:"/login"},{default:(0,l.k6)((()=>a[4]||(a[4]=[(0,l.eW)("Login")]))),_:1})]))])])])])}var w=t(278);const C={name:"NavBar",computed:{...(0,w.L8)(["user"]),isLoggedIn(){return this.user.loggedIn}},data(){return{loggedOutLinks:[{name:"Home",path:"/"},{name:"Booths",path:"/booths"},{name:"Event Reviews",path:"/eventreviews"},{name:"About",path:"/about"}],loggedInLinks:[{name:"Home",path:"/"},{name:"Apply",path:"/eventapplications"},{name:"Booths",path:"/booths"},{name:"Event Reviews",path:"/eventreviews"},{name:"Collaborate",path:"/collaborate"},{name:"About",path:"/about"},{name:"Payments",path:"/payments"}]}},methods:{logout(){this.$store.commit("SET_LOGGED_IN",!1),this.$store.commit("SET_USER",null),this.$router.push("/")}}};var E=t(262);const _=(0,E.A)(C,[["render",y],["__scopeId","data-v-2f55d79c"]]),x=_,I={name:"App",components:{NavBar:x}},A=(0,E.A)(I,[["render",u],["__scopeId","data-v-40c99fc3"]]),P=A;var S=t(220);const F=t.p+"img/img1.e817f7de.png",R=t.p+"img/img4.99988e3f.png",D=t.p+"img/img2.181b3037.png",X=t.p+"img/img5.0d6f3489.png",B={class:"wrapper"},M={class:"container mt-5 main-content"},K={class:"main-banner"};function N(e,a,t,s,o,i){const n=(0,l.g2)("NavBar"),r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",null,[a[5]||(a[5]=(0,l.Lk)("div",{id:"splash-screen"},[(0,l.Lk)("div",{class:"animated-text"},[(0,l.eW)("Welcome to "),(0,l.Lk)("span",{class:"fw-bold",style:{color:"#36b598"}},"Boothy")])],-1)),(0,l.bF)(n),(0,l.Lk)("div",B,[a[4]||(a[4]=(0,l.Fv)('<div class="left" data-v-37009790></div><div class="right" data-v-37009790></div><div class="container-fluid p-0 d-none d-md-block" id="imgBanner" data-v-37009790><div class="position-relative" data-v-37009790><img src="'+F+'" class="img-fluid w-100" alt="Banner Image" data-v-37009790><div class="centered-text" style="color:white;" data-v-37009790><span class="letter" data-v-37009790>B</span><span class="letter" data-v-37009790>o</span><span class="letter" data-v-37009790>o</span><span class="letter" data-v-37009790>t</span><span class="letter" data-v-37009790>h</span><span class="letter" data-v-37009790>y</span></div></div></div>',3)),(0,l.Lk)("div",M,[(0,l.Lk)("div",K,[a[1]||(a[1]=(0,l.Lk)("h2",null,"WHERE TO BOOTH FOR CREATORS?",-1)),a[2]||(a[2]=(0,l.Lk)("p",null,"From bustling street markets to upscale fairs, find the right spaces to showcase your work and the right people to do it with. Find the right customers, maximise your space, and ensure a smooth experience at every event. Make each market or fair a success and unlock new opportunities for your business.",-1)),(0,l.bF)(r,{to:"/login",class:"btn btn-light mt-3"},{default:(0,l.k6)((()=>a[0]||(a[0]=[(0,l.eW)("Log in")]))),_:1})]),a[3]||(a[3]=(0,l.Fv)('<div id="eventCardsCarousel" class="carousel slide mt-5" data-bs-ride="carousel" data-v-37009790><div class="carousel-inner" data-v-37009790><div class="carousel-item active" data-v-37009790><div class="col-8 mx-auto" data-v-37009790><div class="card event-card" data-v-37009790><img src="'+R+'" alt="Event Image" data-v-37009790><p data-v-37009790>The Epitome Pushcarts By INVADE</p></div></div></div><div class="carousel-item" data-v-37009790><div class="col-8 mx-auto" data-v-37009790><div class="card event-card" data-v-37009790><img src="'+D+'" alt="Event Image" data-v-37009790><p data-v-37009790>Merry Makers Market @FoundryArtCentre</p></div></div></div><div class="carousel-item" data-v-37009790><div class="col-8 mx-auto" data-v-37009790><div class="card event-card" data-v-37009790><img src="'+X+'" alt="Event Image" data-v-37009790><p data-v-37009790>Night At Orchard By INVADE</p></div></div></div></div><button class="carousel-control-prev" type="button" data-bs-target="#eventCardsCarousel" data-bs-slide="prev" data-v-37009790><span class="carousel-control-prev-icon" aria-hidden="true" data-v-37009790></span><span class="visually-hidden" data-v-37009790>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#eventCardsCarousel" data-bs-slide="next" data-v-37009790><span class="carousel-control-next-icon" aria-hidden="true" data-v-37009790></span><span class="visually-hidden" data-v-37009790>Next</span></button></div>',1))])])])}var U=t(83),O=t(183);U.os.registerPlugin(O.u);const W={name:"HomePage",mounted(){document.body.style.overflow="hidden",setTimeout((()=>{const e=document.getElementById("splash-screen");if(e){e.classList.add("splash-hidden"),document.body.style.overflow="auto";const a=U.os.timeline();a.to(".left",{duration:1,width:"50%",ease:"power2.inOut"},.5),a.to(".right",{duration:1,width:"50%",ease:"power3.inOut"},.4),a.fromTo("#imgBanner img",{x:"-100%"},{x:"0%",duration:1.5,ease:"power2.inOut"}),a.fromTo(".main-banner",{x:"120%"},{x:"0%",duration:1.5,ease:"power2.inOut"},"<"),a.fromTo(".letter",{opacity:0,y:50},{opacity:1,y:0,duration:.5,stagger:.1,ease:"power2.out"})}}),3e3)}},T=(0,E.A)(W,[["render",N],["__scopeId","data-v-37009790"]]),V=T,j={class:"booth-listings"};function G(e,a,t,s,o,i){const n=(0,l.g2)("BoothCard");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("section",j,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.booths,(e=>((0,l.uX)(),(0,l.Wv)(n,{key:e.id,booth:e},null,8,["booth"])))),128))])])}const J={class:"booth-card"},z=["src"],$={class:"booth-title"},Q={class:"booth-price"},q={class:"booth-duration"},H={class:"booth-space"},Y={class:"booth-organizer"},Z={class:"booth-description"};function ee(e,a,t,s,o,i){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",J,[(0,l.Lk)("img",{src:o.boothImage,alt:"Booth Image",class:"booth-image"},null,8,z),(0,l.Lk)("h3",$,(0,v.v_)(t.booth.booth_title),1),(0,l.Lk)("p",Q,"Price: "+(0,v.v_)(t.booth.price),1),(0,l.Lk)("p",q,"Duration: "+(0,v.v_)(t.booth.duration),1),(0,l.Lk)("p",H,"Space: "+(0,v.v_)(t.booth.size),1),(0,l.Lk)("p",Y,"Organizer: "+(0,v.v_)(t.booth.organizer_id),1),(0,l.Lk)("p",Z,(0,v.v_)(t.booth.description),1),(0,l.bF)(n,{to:{name:"booth-details",params:{id:t.booth.booth_id}}},{default:(0,l.k6)((()=>a[0]||(a[0]=[(0,l.Lk)("button",{class:"view-details-button"},"View Details",-1)]))),_:1},8,["to"])])}const ae={name:"BoothCard",props:["booth"],data(){return{boothImage:this.booth.booth_image}},mounted(){this.fetchImage()},methods:{async fetchImage(){try{const e=await fetch(this.booth.booth_image,{mode:"cors"});if(!e.ok)throw new Error("Image not found");const a=await e.blob();this.boothImage=URL.createObjectURL(a)}catch(e){console.error("Error fetching the image:",e)}}}},te=(0,E.A)(ae,[["render",ee],["__scopeId","data-v-6a0c53f7"]]),se=te;var le=t(335);const oe=le.A.create({baseURL:"http://34.31.89.5:8081"}),ie={name:"Booth",components:{BoothCard:se},data(){return{booths:[],loading:!0,error:null}},mounted(){this.fetchBooths()},methods:{async fetchBooths(){try{const e=await oe.get("/booths");this.booths=e.data}catch(e){this.error="Error fetching booths"}finally{this.loading=!1}}}},ne=(0,E.A)(ie,[["render",G],["__scopeId","data-v-36b56adc"]]),re=ne,de={class:"booth-details-container"},ce={key:0,class:"booth-details-card"},ue=["src"],ve={class:"booth-title"},pe={class:"booth-info"},me={key:1,class:"map-container"},be={key:2},he={key:0},fe={key:1};function ke(e,a,t,s,o,i){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",de,[o.booth?((0,l.uX)(),(0,l.CE)("div",ce,[(0,l.Lk)("img",{src:o.booth.booth_image,alt:"Booth Image",class:"booth-image"},null,8,ue),(0,l.Lk)("h1",ve,(0,v.v_)(o.booth.booth_title),1),(0,l.Lk)("div",pe,[(0,l.Lk)("p",null,[a[0]||(a[0]=(0,l.Lk)("strong",null,"Booth ID:",-1)),(0,l.eW)(" "+(0,v.v_)(o.booth.booth_id),1)]),(0,l.Lk)("p",null,[a[1]||(a[1]=(0,l.Lk)("strong",null,"Event ID:",-1)),(0,l.eW)(" "+(0,v.v_)(o.booth.event_id),1)]),(0,l.Lk)("p",null,[a[2]||(a[2]=(0,l.Lk)("strong",null,"Organizer ID:",-1)),(0,l.eW)(" "+(0,v.v_)(o.booth.organizer_id),1)]),(0,l.Lk)("p",null,[a[3]||(a[3]=(0,l.Lk)("strong",null,"Status:",-1)),(0,l.eW)(" "+(0,v.v_)(o.booth.availability_status),1)]),(0,l.Lk)("p",null,[a[4]||(a[4]=(0,l.Lk)("strong",null,"Duration:",-1)),(0,l.eW)(" "+(0,v.v_)(o.booth.duration)+" hours",1)]),(0,l.Lk)("p",null,[a[5]||(a[5]=(0,l.Lk)("strong",null,"Price:",-1)),(0,l.eW)(" $"+(0,v.v_)(o.booth.price.toFixed(2)),1)]),(0,l.Lk)("p",null,[a[6]||(a[6]=(0,l.Lk)("strong",null,"Size:",-1)),(0,l.eW)(" "+(0,v.v_)(o.booth.size)+" sq. ft.",1)]),(0,l.Lk)("p",null,[a[7]||(a[7]=(0,l.Lk)("strong",null,"Created At:",-1)),(0,l.eW)(" "+(0,v.v_)(i.formatDate(o.booth.created_at)),1)]),(0,l.Lk)("p",null,[a[8]||(a[8]=(0,l.Lk)("strong",null,"Updated At:",-1)),(0,l.eW)(" "+(0,v.v_)(i.formatDate(o.booth.updated_at)),1)])]),(0,l.bF)(n,{to:"/booths"},{default:(0,l.k6)((()=>a[9]||(a[9]=[(0,l.Lk)("button",{class:"back-button"},"Back to Booth Listings",-1)]))),_:1})])):(0,l.Q3)("",!0),o.booth?((0,l.uX)(),(0,l.CE)("div",me,a[10]||(a[10]=[(0,l.Lk)("div",{id:"map",class:"map"},null,-1)]))):((0,l.uX)(),(0,l.CE)("div",be,[o.error?((0,l.uX)(),(0,l.CE)("p",he,(0,v.v_)(o.error),1)):((0,l.uX)(),(0,l.CE)("p",fe,"Loading booth details..."))]))])}var ge=t(869);const Le={name:"BoothDetails",props:["id"],data(){return{booth:null,error:null}},mounted(){this.fetchBoothDetails()},methods:{async fetchBoothDetails(){try{const e=await oe.get(`/booths/${this.id}`);this.booth=e.data,this.booth&&this.booth.postal_code&&this.loadGoogleMaps()}catch(e){this.error="Error fetching booth details"}},formatDate(e){const a=new Date(e);return a.toLocaleDateString()+" "+a.toLocaleTimeString()},loadGoogleMaps(){const e=new ge.aH({apiKey:"AIzaSyAeSyt0WZgXPM3dw-fB_ryg1Vs0Yq6OFl4",version:"weekly"});e.load().then((async()=>{const{Map:e}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:a}=await google.maps.importLibrary("marker"),t=new e(document.getElementById("map"),{center:{lat:1.3521,lng:103.8198},zoom:15,mapId:"c41954172f2edac5"}),s=new google.maps.Geocoder;s.geocode({address:`${this.booth.postal_code}, Singapore`},((e,s)=>{"OK"===s&&e[0]?(t.setCenter(e[0].geometry.location),new a({map:t,position:e[0].geometry.location})):console.error("Geocode error:",s)}))})).catch((e=>{console.error("Google Maps API load error:",e)}))}}},ye=(0,E.A)(Le,[["render",ke],["__scopeId","data-v-3cb36f70"]]),we=ye;var Ce=t(953),Ee=t(884),_e=t(223),xe=t(904);const Ie={apiKey:"AIzaSyBzp3OrAjzTsz4q00I3DDZ5q9xf5EkDBLk",authDomain:"venuevibe-a1675.firebaseapp.com",projectId:"venuevibe-a1675",storageBucket:"venuevibe-a1675.appspot.com",messagingSenderId:"605698985809",appId:"1:605698985809:web:98aafba37ec4606481cd70"},Ae=(0,_e.Wp)(Ie),Pe=(0,Ee.aU)(Ae);(0,xe.c7)(Ae);function Se(){const e=(0,Ce.KR)(!1),a=(0,Ce.KR)(null),t=(0,Ce.KR)([]),s=(0,Ce.KR)(""),o=(0,Ee.rJ)(Pe,"reviewData"),i=(0,l.EW)((()=>s.value?t.value.filter((e=>e.eventId===s.value)):t.value)),n=async()=>{e.value=!0,a.value=null;try{const e=await(0,Ee.GG)(o);t.value=e.docs.map((e=>({id:e.id,...e.data(),rating:parseInt(e.data().rating)})))}catch(s){console.error("Error fetching reviews:",s),a.value="Failed to load reviews"}finally{e.value=!1}},r=async()=>{e.value=!0,a.value=null;try{if(!s.value)return void await n();const e=(0,Ee.P)(o,(0,Ee._M)("eventId","==",s.value)),a=await(0,Ee.GG)(e);t.value=a.docs.map((e=>({id:e.id,...e.data(),rating:parseInt(e.data().rating)})))}catch(l){console.error("Error searching reviews:",l),a.value="Failed to search reviews"}finally{e.value=!1}},d=async t=>{e.value=!0,a.value=null;try{return await(0,Ee.gS)(o,{...t,createdAt:(0,Ee.O5)()}),await n(),!0}catch(s){return console.error("Error submitting review:",s),a.value=s.message||"Failed to submit review",!1}finally{e.value=!1}},c=()=>(0,Ee.aQ)(o,(e=>{t.value=e.docs.map((e=>({id:e.id,...e.data(),rating:parseInt(e.data().rating)})))}));return{reviews:t,filteredReviews:i,loading:e,error:a,searchEventId:s,fetchReviews:n,searchReviews:r,submitReview:d,setupRealtimeUpdates:c}}const Fe={class:"card h-100 review-card"},Re={class:"card-body d-flex flex-column"},De={class:"category"},Xe={class:"event-id"},Be={class:"review-content"},Me={class:"review-text"},Ke={class:"user-section"},Ne={class:"user-info"},Ue={class:"user-details"},Oe={class:"username"},We={class:"rating"},Te={class:"stars"},Ve={class:"rating-text"},je={__name:"ReviewCard",props:{review:{type:Object,required:!0,validator:e=>e.eventId&&e.username&&e.category&&e.rating&&e.description}},emits:["image-error"],setup(e,{emit:a}){return(a,t)=>((0,l.uX)(),(0,l.CE)("article",Fe,[(0,l.Lk)("div",Re,[(0,l.Lk)("div",De,[t[0]||(t[0]=(0,l.Lk)("i",{class:"bi bi-shop me-2"},null,-1)),(0,l.eW)(" "+(0,v.v_)(e.review.category),1)]),(0,l.Lk)("h3",Xe,(0,v.v_)(e.review.eventId),1),(0,l.Lk)("div",Be,[(0,l.Lk)("p",Me,' "'+(0,v.v_)(e.review.description)+'" ',1)]),(0,l.Lk)("div",Ke,[(0,l.Lk)("div",Ne,[t[1]||(t[1]=(0,l.Lk)("div",{class:"avatar-wrapper"},[(0,l.Lk)("img",{src:D,alt:"User avatar",class:"avatar"})],-1)),(0,l.Lk)("div",Ue,[(0,l.Lk)("p",Oe,(0,v.v_)(e.review.username),1),(0,l.Lk)("div",We,[(0,l.Lk)("div",Te,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(5,(a=>(0,l.Lk)("i",{key:a,class:(0,v.C4)(["bi",a<=e.review.rating?"bi-star-fill":"bi-star"])},null,2))),64))]),(0,l.Lk)("span",Ve,(0,v.v_)(e.review.rating)+"/5",1)])])])])])]))}},Ge=(0,E.A)(je,[["__scopeId","data-v-04ab440e"]]),Je=Ge;var ze=t(454);const $e={class:"modal-dialog modal-lg"},Qe={class:"modal-content"},qe={class:"modal-body"},He={class:"mb-3"},Ye={class:"mb-3"},Ze={class:"mb-3"},ea=["value"],aa={class:"mb-3"},ta=["value"],sa={class:"mb-3"},la={class:"mb-3"},oa=["disabled"],ia={key:0,class:"mt-2 preview-container position-relative"},na=["src"],ra={class:"text-end"},da=["disabled"],ca={__name:"ReviewForm",props:{loading:{type:Boolean,default:!1}},emits:["submit"],setup(e,{expose:a,emit:t}){const o=(0,xe.c7)(),i=t,n=["Food & Beverages","Artist, Creator, Crafts","Jewellery & Accessories","Fashion, Apparel & Clothing","Family & Pets","Others"],r={1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"},d=(0,Ce.KR)(null),c=(0,Ce.KR)(null),u=(0,Ce.KR)(p());function p(){return{eventId:"",username:"",category:"",rating:"",description:"",imageFile:null,imageFileObject:null}}const m=async e=>{const a=e.target.files[0];if(a){if(!a.type.startsWith("image/"))return void alert("Please upload an image file");if(a.size>5242880)return void alert("Image size should be less than 5MB");try{const e=`${Date.now()}-${a.name}`,t=(0,xe.KR)(o,`reviewImages/${e}`),s=await(0,xe.D)(t,a),l=await(0,xe.qk)(s.ref);u.value.imageFile=l,u.value.imageFileObject=a}catch(t){console.error("Error uploading image:",t),alert("Failed to upload image")}}},b=()=>{u.value.imageFile?.startsWith("blob:")&&URL.revokeObjectURL(u.value.imageFile),u.value.imageFile=null,u.value.imageFileObject=null},h=()=>{b(),u.value=p()},f=()=>{i("submit",{...u.value})},k=()=>{c.value?.show()},g=()=>{c.value?.hide(),h()};return(0,l.sV)((()=>{c.value=new ze.aF(d.value),d.value.addEventListener("hidden.bs.modal",(()=>{h()}))})),a({openModal:k,closeModal:g}),(a,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"modal fade",id:"reviewModal",tabindex:"-1","aria-labelledby":"reviewModalLabel","aria-hidden":"true",ref_key:"modalRef",ref:d},[(0,l.Lk)("div",$e,[(0,l.Lk)("div",Qe,[t[15]||(t[15]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title",id:"reviewModalLabel"},[(0,l.Lk)("i",{class:"bi bi-pencil-square me-2"}),(0,l.eW)(" Submit Your Review ")]),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,l.Lk)("div",qe,[(0,l.Lk)("form",{onSubmit:(0,s.D$)(f,["prevent"])},[(0,l.Lk)("div",He,[t[5]||(t[5]=(0,l.Lk)("label",{for:"eventId",class:"form-label"},"Event ID:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"eventId","onUpdate:modelValue":t[0]||(t[0]=e=>u.value.eventId=e),class:"form-control",required:""},null,512),[[s.Jo,u.value.eventId]])]),(0,l.Lk)("div",Ye,[t[6]||(t[6]=(0,l.Lk)("label",{for:"username",class:"form-label"},"Username:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=e=>u.value.username=e),class:"form-control",required:""},null,512),[[s.Jo,u.value.username]])]),(0,l.Lk)("div",Ze,[t[8]||(t[8]=(0,l.Lk)("label",{for:"category",class:"form-label"},"Category:",-1)),(0,l.bo)((0,l.Lk)("select",{id:"category","onUpdate:modelValue":t[2]||(t[2]=e=>u.value.category=e),class:"form-select",required:""},[t[7]||(t[7]=(0,l.Lk)("option",{value:"",disabled:""},"Select a category",-1)),((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(n,(e=>(0,l.Lk)("option",{key:e,value:e},(0,v.v_)(e),9,ea))),64))],512),[[s.u1,u.value.category]])]),(0,l.Lk)("div",aa,[t[10]||(t[10]=(0,l.Lk)("label",{for:"rating",class:"form-label"},"Rating:",-1)),(0,l.bo)((0,l.Lk)("select",{id:"rating","onUpdate:modelValue":t[3]||(t[3]=e=>u.value.rating=e),class:"form-select",required:""},[t[9]||(t[9]=(0,l.Lk)("option",{value:""},"Select a rating",-1)),((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(r,((e,a)=>(0,l.Lk)("option",{key:a,value:a},(0,v.v_)(a)+" - "+(0,v.v_)(e),9,ta))),64))],512),[[s.u1,u.value.rating]])]),(0,l.Lk)("div",sa,[t[11]||(t[11]=(0,l.Lk)("label",{for:"description",class:"form-label"},"Description & Opinion:",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=e=>u.value.description=e),class:"form-control",rows:"4",required:""},null,512),[[s.Jo,u.value.description]])]),(0,l.Lk)("div",la,[t[13]||(t[13]=(0,l.Lk)("label",{for:"imageFile",class:"form-label"},"Upload Image (optional):",-1)),(0,l.Lk)("input",{type:"file",id:"imageFile",class:"form-control",accept:"image/*",onChange:m,disabled:e.loading},null,40,oa),u.value.imageFile?((0,l.uX)(),(0,l.CE)("div",ia,[(0,l.Lk)("img",{src:u.value.imageFile,class:"review-preview-image img-fluid",alt:"Preview",style:{"max-height":"200px"}},null,8,na),(0,l.Lk)("button",{type:"button",class:"btn btn-sm btn-danger position-absolute top-0 end-0 m-2",onClick:b},t[12]||(t[12]=[(0,l.Lk)("i",{class:"bi bi-x"},null,-1)]))])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ra,[(0,l.Lk)("button",{type:"submit",class:"btn",disabled:e.loading},t[14]||(t[14]=[(0,l.Lk)("i",{class:"bi bi-check-circle me-1"},null,-1),(0,l.eW)(" Submit Review ")]),8,da)])],32)])])])],512))}},ua=(0,E.A)(ca,[["__scopeId","data-v-ec764f58"]]),va=ua,pa={class:"col-md-6"},ma={class:"card h-100 shadow-sm"},ba={class:"card-body"},ha={class:"input-group mb-3"},fa=["disabled"],ka=["disabled"],ga={__name:"ReviewSearch",props:{searchId:{type:String,default:""},loading:{type:Boolean,default:!1}},emits:["update:searchId","search"],setup(e,{emit:a}){const t=e,o=a,i=(0,Ce.KR)(t.searchId);(0,l.wB)((()=>t.searchId),(e=>{i.value=e})),(0,l.wB)(i,(e=>{o("update:searchId",e)}));const n=()=>{o("search")};return(a,t)=>((0,l.uX)(),(0,l.CE)("div",pa,[(0,l.Lk)("div",ma,[(0,l.Lk)("div",ba,[t[3]||(t[3]=(0,l.Lk)("h2",null,"Search Reviews",-1)),(0,l.Lk)("form",{onSubmit:(0,s.D$)(n,["prevent"])},[(0,l.Lk)("div",ha,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),class:"form-control",placeholder:"Enter Event ID",required:"",disabled:e.loading},null,8,fa),[[s.Jo,i.value]]),(0,l.Lk)("button",{class:"btn green-btn",type:"submit",disabled:e.loading},t[1]||(t[1]=[(0,l.Lk)("i",{class:"bi bi-search me-1"},null,-1),(0,l.eW)(" Search ")]),8,ka)]),t[2]||(t[2]=(0,l.Lk)("p",{class:"button-info text-muted"}," Click search button or press enter to view data charts ",-1))],32)])])]))}},La=(0,E.A)(ga,[["__scopeId","data-v-1dc36e67"]]),ya=La,wa={class:"card h-100 shadow-sm"},Ca={class:"card-body"},Ea=["disabled"],_a={__name:"ReviewFormButton",props:{loading:{type:Boolean,default:!1}},emits:["click"],setup(e){return(a,t)=>((0,l.uX)(),(0,l.CE)("div",wa,[(0,l.Lk)("div",Ca,[t[2]||(t[2]=(0,l.Lk)("h2",null,"Submit Your Review",-1)),(0,l.Lk)("button",{class:"btn green-btn",onClick:t[0]||(t[0]=e=>a.$emit("click")),disabled:e.loading},t[1]||(t[1]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-1"},null,-1),(0,l.eW)(" Open Review Form ")]),8,Ea)])]))}},xa=(0,E.A)(_a,[["__scopeId","data-v-294de3b9"]]),Ia=xa;var Aa=t(293);function Pa(){const e={primary:"#36b598",secondary:"#2d9b82",gradient:["#36b598","#2d9b82","#248169","#1b6751","#124d3a","#093322"]},a=(a,t)=>new Aa.Ay(a,{type:"bar",data:{labels:["1 - Poor","2 - Fair","3 - Good","4 - Very Good","5 - Excellent"],datasets:[{label:"Number of Reviews",data:t,backgroundColor:e.primary,borderColor:e.secondary,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,callback:function(e){if(Math.floor(e)===e)return e}}}}}}),t=(a,t)=>new Aa.Ay(a,{type:"pie",data:{labels:t.labels,datasets:[{data:t.values,backgroundColor:e.gradient,borderColor:"#ffffff",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,boxWidth:12}},tooltip:{callbacks:{label:function(e){const a=e.label||"",t=e.parsed||0,s=e.dataset.data.reduce(((e,a)=>e+a),0),l=(t/s*100).toFixed(1);return`${a}: ${t} (${l}%)`}}}}}}),s=e=>{e&&e.destroy()};return{createRatingChart:a,createDemographicsChart:t,destroyChart:s}}const Sa={class:"col-md-6"},Fa={class:"card shadow-sm"},Ra={class:"card-body"},Da={class:"card-title"},Xa={class:"chart-container"},Ba={__name:"RatingChart",props:{reviews:{type:Array,required:!0},eventId:{type:String,required:!0}},setup(e){const a=e,t=(0,Ce.KR)(null),s=(0,Ce.KR)(null),{createRatingChart:o,destroyChart:i}=Pa(),n=()=>{if(s.value&&i(s.value),t.value){const e=[1,2,3,4,5].map((e=>a.reviews.filter((a=>parseInt(a.rating)===e)).length));s.value=o(t.value,e)}};return(0,l.wB)((()=>a.reviews),(()=>{n()}),{deep:!0}),(0,l.sV)((()=>{n()})),(0,l.xo)((()=>{s.value&&i(s.value)})),(a,s)=>((0,l.uX)(),(0,l.CE)("div",Sa,[(0,l.Lk)("div",Fa,[(0,l.Lk)("div",Ra,[(0,l.Lk)("h2",Da," Rating Distribution for Event "+(0,v.v_)(e.eventId),1),(0,l.Lk)("div",Xa,[(0,l.Lk)("canvas",{ref_key:"chartRef",ref:t},null,512)])])])]))}},Ma=(0,E.A)(Ba,[["__scopeId","data-v-8c0c1af2"]]),Ka=Ma,Na={class:"col-md-6"},Ua={class:"card shadow-sm"},Oa={class:"card-body"},Wa={class:"card-title"},Ta={class:"chart-container"},Va={__name:"DemographicsChart",props:{reviews:{type:Array,required:!0},eventId:{type:String,required:!0}},setup(e){const a=e,t=(0,Ce.KR)(null),s=(0,Ce.KR)(null),{createDemographicsChart:o,destroyChart:i}=Pa(),n=()=>{if(s.value&&i(s.value),t.value){const e={"Food & Beverages":0,"Artist, Creator, Crafts":0,"Jewellery & Accessories":0,"Fashion, Apparel & Clothing":0,"Family & Pets":0,Others:0};a.reviews.forEach((a=>{e.hasOwnProperty(a.category)?e[a.category]++:e["Others"]++}));const l={labels:Object.keys(e),values:Object.values(e)};s.value=o(t.value,l)}};return(0,l.wB)((()=>a.reviews),(()=>{n()}),{deep:!0}),(0,l.sV)((()=>{n()})),(0,l.xo)((()=>{s.value&&i(s.value)})),(a,s)=>((0,l.uX)(),(0,l.CE)("div",Na,[(0,l.Lk)("div",Ua,[(0,l.Lk)("div",Oa,[(0,l.Lk)("h2",Wa," Category Distribution for "+(0,v.v_)(e.eventId),1),(0,l.Lk)("div",Ta,[(0,l.Lk)("canvas",{ref_key:"chartRef",ref:t},null,512)])])])]))}},ja=(0,E.A)(Va,[["__scopeId","data-v-759d1733"]]),Ga=ja,Ja={class:"event-review-container"},za={key:1,class:"alert alert-danger alert-dismissible fade show m-3",role:"alert"},$a={class:"row mb-4 mx-3"},Qa={class:"col-md-6"},qa={key:2,class:"row mb-4 mx-3"},Ha={id:"reviews",class:"reviews-section section"},Ya={key:0,class:"container"},Za={key:1,class:"container"},et={class:"row gy-4"},at=["data-aos-delay"],tt={__name:"EventReview",setup(e){const a=(0,Ce.KR)(null),{reviews:t,filteredReviews:s,loading:o,error:i,searchEventId:n,fetchReviews:r,searchReviews:d,submitReview:c,setupRealtimeUpdates:u}=Se(),p=()=>{a.value?.openModal()},m=async e=>{const t=await c(e);t&&a.value?.closeModal()},b=()=>{i.value="Failed to load one or more images"};let h;return(0,l.sV)((async()=>{await r(),h=u()})),(0,l.xo)((()=>{h&&h()})),(e,t)=>{const r=(0,l.g2)("LoadingOverlay");return(0,l.uX)(),(0,l.CE)("div",Ja,[(0,Ce.R1)(o)?((0,l.uX)(),(0,l.Wv)(r,{key:0})):(0,l.Q3)("",!0),t[3]||(t[3]=(0,l.Lk)("video",{class:"background-video",autoplay:"",muted:"",loop:"",playsinline:""},[(0,l.Lk)("source",{src:"/videos/market.mp4",type:"video/mp4"})],-1)),t[4]||(t[4]=(0,l.Lk)("div",{class:"video-overlay"},null,-1)),(0,Ce.R1)(i)?((0,l.uX)(),(0,l.CE)("div",za,[(0,l.eW)((0,v.v_)((0,Ce.R1)(i))+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=e=>i.value=null),"aria-label":"Close"})])):(0,l.Q3)("",!0),t[5]||(t[5]=(0,l.Lk)("div",{class:"container section-title","data-aos":"fade-up"},[(0,l.Lk)("h2",{style:{color:"white","font-size":"70px"}},"Event Reviews")],-1)),(0,l.Lk)("div",$a,[(0,l.bF)(ya,{searchId:(0,Ce.R1)(n),"onUpdate:searchId":t[1]||(t[1]=e=>(0,Ce.i9)(n)?n.value=e:null),loading:(0,Ce.R1)(o),onSearch:(0,Ce.R1)(d)},null,8,["searchId","loading","onSearch"]),(0,l.Lk)("div",Qa,[(0,l.bF)(Ia,{loading:(0,Ce.R1)(o),onClick:p},null,8,["loading"])])]),(0,Ce.R1)(n)&&(0,Ce.R1)(s).length>0?((0,l.uX)(),(0,l.CE)("div",qa,[(0,l.bF)(Ka,{reviews:(0,Ce.R1)(s),"event-id":(0,Ce.R1)(n)},null,8,["reviews","event-id"]),(0,l.bF)(Ga,{reviews:(0,Ce.R1)(s),"event-id":(0,Ce.R1)(n)},null,8,["reviews","event-id"])])):(0,l.Q3)("",!0),(0,l.Lk)("section",Ha,[0===(0,Ce.R1)(s).length?((0,l.uX)(),(0,l.CE)("div",Ya,t[2]||(t[2]=[(0,l.Lk)("div",{class:"alert alert-info text-center"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-2"}),(0,l.eW)(" No reviews found for this event. ")],-1)]))):((0,l.uX)(),(0,l.CE)("div",Za,[(0,l.Lk)("div",et,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,Ce.R1)(s),((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-xl-4 col-md-6","data-aos":"fade-up","data-aos-delay":100*(a+1)},[(0,l.bF)(Je,{review:e,onImageError:b},null,8,["review"])],8,at)))),128))])]))]),(0,l.bF)(va,{ref_key:"reviewFormRef",ref:a,onSubmit:m},null,512)])}}},st=(0,E.A)(tt,[["__scopeId","data-v-e5aafa90"]]),lt=st,ot=t.p+"img/img6.1c579503.jpg",it={class:"about-page"},nt={class:"content-wrapper"},rt={class:"cta-section py-5"},dt={class:"container"},ct={class:"row text-center"},ut={class:"col-md-8 mx-auto","data-aos":"fade-up"};function vt(e,a,t,s,o,i){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",it,[(0,l.Lk)("video",{class:(0,v.C4)(["background-video",{"is-loaded":o.videoLoaded}]),autoplay:"",muted:"",loop:"",playsinline:"",onLoadeddata:a[0]||(a[0]=e=>o.videoLoaded=!0)},a[1]||(a[1]=[(0,l.Lk)("source",{src:"/videos/store.mp4",type:"video/mp4"},null,-1)]),34),a[6]||(a[6]=(0,l.Lk)("div",{class:"video-overlay"},null,-1)),(0,l.Lk)("div",nt,[a[5]||(a[5]=(0,l.Fv)('<section class="hero-section text-white py-5 mb-5" data-v-5d11c100><div class="container" data-v-5d11c100><div class="row align-items-center" data-v-5d11c100><div class="col-md-6" data-aos="fade-right" data-v-5d11c100><h1 class="display-4 fw-bold" data-v-5d11c100>About Us</h1><p class="lead" data-v-5d11c100>Boothy was founded by a group of students from Singapore Management University with the goal of creating a platform that allows event organizers to seamlessly discover and partner with small businesses. Our platform brings unique products, services, and local character to events, enhancing the experience for organizers and attendees alike.</p></div><div class="col-md-6" data-aos="fade-left" data-v-5d11c100><img src="'+ot+'" alt="About Us" class="hero-image" height=" 400px" data-aos="fade-left" style="border-radius:20px;" data-v-5d11c100></div></div></div></section><section class="mission-section mb-5" data-v-5d11c100><div class="container" data-v-5d11c100><div class="card transparent-card" data-aos="fade-up" data-v-5d11c100><div class="card-body text-center" data-v-5d11c100><h2 class="fw-bold mb-4" data-v-5d11c100>Our Mission</h2><p class="lead" data-v-5d11c100> We&#39;re dedicated to creating meaningful connections between event organizers and small businesses, fostering growth and success in the events industry. </p></div></div></div></section><section class="features-section mb-5" data-v-5d11c100><div class="container" data-v-5d11c100><div class="row g-4" data-v-5d11c100><div class="col-md-4" data-aos="fade-up" data-aos-delay="100" data-v-5d11c100><div class="feature-card" data-v-5d11c100><div class="card-body text-center" data-v-5d11c100><i class="bi bi-people-fill feature-icon" data-v-5d11c100></i><h3 data-v-5d11c100>Connect</h3><p data-v-5d11c100> We connect event organizers with the perfect small businesses to make their events unique and memorable. </p></div></div></div><div class="col-md-4" data-aos="fade-up" data-aos-delay="200" data-v-5d11c100><div class="feature-card" data-v-5d11c100><div class="card-body text-center" data-v-5d11c100><i class="bi bi-graph-up-arrow feature-icon" data-v-5d11c100></i><h3 data-v-5d11c100>Grow</h3><p data-v-5d11c100> Help small businesses expand their reach and event organizers find the perfect partners for their events. </p></div></div></div><div class="col-md-4" data-aos="fade-up" data-aos-delay="300" data-v-5d11c100><div class="feature-card" data-v-5d11c100><div class="card-body text-center" data-v-5d11c100><i class="bi bi-star-fill feature-icon" data-v-5d11c100></i><h3 data-v-5d11c100>Succeed</h3><p data-v-5d11c100> Create successful partnerships that lead to outstanding events and business growth opportunities. </p></div></div></div></div></div></section><section class="benefits-section mb-5" data-v-5d11c100><div class="container" data-v-5d11c100><div class="card transparent-card" data-aos="fade-up" data-v-5d11c100><div class="card-body" data-v-5d11c100><div class="row align-items-center" data-v-5d11c100><div class="col-md-12" data-v-5d11c100><h2 class="fw-bold mb-4" data-v-5d11c100>Why Choose Us?</h2><ul class="benefits-list" data-v-5d11c100><li data-aos="fade-right" data-aos-delay="100" data-v-5d11c100><i class="bi bi-check-circle-fill" data-v-5d11c100></i> Easy-to-use platform for both organizers and businesses </li><li data-aos="fade-right" data-aos-delay="200" data-v-5d11c100><i class="bi bi-check-circle-fill" data-v-5d11c100></i> Verified business profiles and reviews </li><li data-aos="fade-right" data-aos-delay="400" data-v-5d11c100><i class="bi bi-check-circle-fill" data-v-5d11c100></i> Secure booking and payment system </li></ul></div></div></div></div></div></section>',4)),(0,l.Lk)("section",rt,[(0,l.Lk)("div",dt,[(0,l.Lk)("div",ct,[(0,l.Lk)("div",ut,[a[3]||(a[3]=(0,l.Lk)("h2",{class:"fw-bold mb-4"},"Ready to Get Started?",-1)),a[4]||(a[4]=(0,l.Lk)("p",{class:"lead mb-4"}," Join our platform today and start connecting with potential partners! ",-1)),(0,l.bF)(n,{to:"/login",class:"cta-button"},{default:(0,l.k6)((()=>a[2]||(a[2]=[(0,l.eW)(" Join Now ")]))),_:1})])])])])])])}const pt={name:"About",data(){return{videoLoaded:!1}}},mt=(0,E.A)(pt,[["render",vt],["__scopeId","data-v-5d11c100"]]),bt=mt,ht={class:"not-found"};function ft(e,a,t,s,o,i){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",ht,[a[1]||(a[1]=(0,l.Lk)("h1",null,"404 - Page Not Found",-1)),a[2]||(a[2]=(0,l.Lk)("p",null,"Oops! The page you are looking for does not exist.",-1)),(0,l.bF)(n,{to:"/"},{default:(0,l.k6)((()=>a[0]||(a[0]=[(0,l.eW)("Go back to Home")]))),_:1})])}const kt={name:"NotFound"},gt=(0,E.A)(kt,[["render",ft],["__scopeId","data-v-5c57c0d3"]]),Lt=gt;var yt=t(891),wt=t.n(yt),Ct=t(302);const Et={key:0},_t={key:1,class:"container-fluid px-0 mx-0"},xt={class:"col-lg-6 content-wrapper"},It={class:"content active"},At={id:"links"},Pt=["href"],St=["href"],Ft=["href"],Rt={class:"business-name"},Dt={class:"buttons"},Xt={href:"#",class:"btn btn-outline-secondary"},Bt={href:"#",class:"btn btn-outline-secondary"},Mt={class:"col-lg-6 col-md-12 carousel-box"},Kt=["onClick"],Nt={class:"carousel-item"},Ut=["src"],Ot={class:"carousel-buttons col-lg-6 align-items-center"},Wt={data(){return{users:[],currentIndex:0,loading:!0,error:null,isSliding:!1,slideDirection:""}},computed:{currentSlide(){return this.users[this.currentIndex]||{}},rotatedUsers(){return this.users.length?[...this.users.slice(this.currentIndex),...this.users.slice(0,this.currentIndex)]:[]}},methods:{async fetchUsers(){try{const e=await(0,Ee.GG)((0,Ee.rJ)(Pe,"user"));for(const a of e.docs){const e={...a.data(),id:a.id};this.users.push(e),await this.retrieveProfile(a.id),console.log(this.users)}}catch(e){console.error("Error fetching users:",e),this.error="Failed to load user data."}finally{this.loading=!1}},async retrieveProfile(e){try{const a=(0,Ee.P)((0,Ee.rJ)(Pe,"business_profiles"),(0,Ee._M)("user_id","==",e)),t=await(0,Ee.GG)(a),s=this.users.find((a=>a.id===e));if(s&&t.docs.length>0){const e=t.docs[0].data(),a=await this.retrieveNestedPortfolio(t.docs[0].id);e.portfolio_items=a,Object.assign(s,e)}}catch(a){console.error(`Error fetching business profile for user ${e}:`,a)}},async retrieveNestedPortfolio(e){try{const a=(0,Ee.rJ)(Pe,"business_profiles",e,"portfolio_items"),t=await(0,Ee.GG)(a);return t.docs.map((e=>({...e.data(),id:e.id})))}catch(a){return console.error(`Error fetching portfolio items for business profile ${e}:`,a),[]}},nextUser(){this.slideDirection="left",this.triggerSlideAnimation(),setTimeout((()=>{this.currentIndex=(this.currentIndex+1)%this.users.length,this.resetSlideAnimation()}),300)},prevUser(){this.slideDirection="right",this.users.length>0&&(this.triggerSlideAnimation(),setTimeout((()=>{this.currentIndex=(this.currentIndex-1+this.users.length)%this.users.length,this.resetSlideAnimation()}),300))},goToSlide(e){e!==this.currentIndex&&(this.slideDirection=e>this.currentIndex?"left":"right",this.triggerSlideAnimation(),setTimeout((()=>{const a=this.users.slice(e),t=this.users.slice(0,e);this.users=[...a,...t],this.currentIndex=0,this.resetSlideAnimation()}),300))},triggerSlideAnimation(){this.isSliding=!0},resetSlideAnimation(){this.isSliding=!1,this.slideDirection=""}},mounted(){this.fetchUsers()}},Tt=Object.assign(Wt,{__name:"Collaboration",setup(e){return(0,Ct.eV)(wt().loadAnimation),(e,a)=>{const t=(0,l.g2)("fa"),s=(0,l.g2)("lord-icon");return(0,l.uX)(),(0,l.CE)("main",null,[e.loading?((0,l.uX)(),(0,l.CE)("div",Et,a[2]||(a[2]=[(0,l.Lk)("p",null,"Loading users...",-1)]))):e.users?((0,l.uX)(),(0,l.CE)("div",_t,[(0,l.Lk)("div",{class:"row banner mx-0",style:(0,v.Tr)({background:`url(${e.currentSlide.profile_highlight})`})},[(0,l.Lk)("div",xt,[(0,l.Lk)("div",It,[(0,l.Lk)("ul",At,[(0,l.Lk)("li",null,[(0,l.Lk)("a",{target:"_blank",href:`${e.currentSlide.instagram_link}`},[(0,l.bF)(t,{icon:["fab","instagram"]})],8,Pt)]),(0,l.Lk)("li",null,[(0,l.Lk)("a",{target:"_blank",href:`${e.currentSlide.website_link}`},[(0,l.bF)(t,{icon:["fas","globe"]})],8,St)]),(0,l.Lk)("li",null,[(0,l.Lk)("a",{target:"_blank",href:`${e.currentSlide.portforlio_link}`},[(0,l.bF)(t,{icon:["fas","hashtag"]})],8,Ft)])]),(0,l.Lk)("h4",null,[(0,l.Lk)("span",null,(0,v.v_)(e.currentSlide.profile_type),1),(0,l.Lk)("span",null,(0,v.v_)(e.currentSlide.interests),1)]),(0,l.Lk)("h1",Rt,(0,v.v_)(e.currentSlide.business_name),1),(0,l.Lk)("p",null,(0,v.v_)(e.currentSlide.bio),1),(0,l.Lk)("div",Dt,[(0,l.Lk)("a",Xt,[(0,l.bF)(s,{src:"https://cdn.lordicon.com/qnpnzlkk.json",trigger:"hover",colors:"primary:#e4e4e4",style:{width:"18px",height:"18px"}}),a[3]||(a[3]=(0,l.eW)(" Connect & Chat "))]),(0,l.Lk)("a",Bt,[(0,l.bF)(s,{src:"https://cdn.lordicon.com/jkzgajyr.json",trigger:"hover",colors:"primary:#e4e4e4",style:{width:"18px",height:"18px"}}),a[4]||(a[4]=(0,l.eW)(" Bookmark "))])])])]),(0,l.Lk)("div",Mt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.rotatedUsers,((a,t)=>((0,l.uX)(),(0,l.CE)("div",{key:a.id,class:(0,v.C4)(["carousel",{active:t===e.currentIndex,"slide-left":"left"===e.slideDirection,"slide-right":"right"===e.slideDirection}]),onClick:a=>e.goToSlide(t)},[(0,l.Lk)("div",Nt,[(0,l.Lk)("img",{src:a.profile_image},null,8,Ut)])],10,Kt)))),128))]),(0,l.Lk)("div",Ot,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=(...a)=>e.prevUser&&e.prevUser(...a)),class:"carousel-control prev"},"<"),(0,l.Lk)("button",{onClick:a[1]||(a[1]=(...a)=>e.nextUser&&e.nextUser(...a)),class:"carousel-control next"},">")])],4)])):(0,l.Q3)("",!0)])}}}),Vt=(0,E.A)(Tt,[["__scopeId","data-v-7885beac"]]),jt=Vt,Gt=t.p+"img/booth.413276e1.png",Jt=t.p+"img/booth2.4ca304e7.png";var zt=t(746);const $t={class:"forms-container"},Qt={class:"signin-signup"},qt={class:"input-field"},Ht={class:"input-field"},Yt={class:"input-field"},Zt={class:"input-field"},es={class:"panels-container"},as={class:"panel left-panel"},ts={class:"content"},ss={class:"panel right-panel"},ls={class:"content"},os={__name:"Login",setup(e){const a=(0,Ce.KR)(""),t=(0,Ce.KR)(""),o=(0,Ce.KR)(""),i=(0,Ce.KR)(""),n=(0,S.rd)(),r=(0,zt.xI)(),d=(0,w.Pj)(),c=e=>{const a={"auth/invalid-email":"The email address is not valid.","auth/user-disabled":"The user corresponding to the email address has been disabled.","auth/user-not-found":"No user found corresponding to the email address.","auth/wrong-password":"The password is invalid or the user does not have a password.","auth/email-already-in-use":"The email address is already in use by another account.","auth/weak-password":"The password is too weak. It should be at least 6 characters long."};return a[e.code]||"An unknown error occurred. Please try again."},u=async()=>{try{const e=await(0,zt.eJ)(r,a.value,t.value),s=e.user;console.log("Successfully registered!",s),d.commit("SET_LOGGED_IN",!0),d.commit("SET_USER",{displayName:s.displayName,email:s.email}),n.push("/")}catch(e){console.error("Error during registration:",e.code),alert(c(e))}},p=async()=>{try{const e=await(0,zt.x9)(r,o.value,i.value),a=e.user;console.log("Successfully logged in!",a),d.commit("SET_LOGGED_IN",!0),d.commit("SET_USER",{displayName:a.displayName,email:a.email}),n.push("/")}catch(e){console.error("Error during sign-in:",e.code),alert(c(e))}};return(e,n)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,v.C4)(["container",{"sign-up-mode":e.isSignUpMode}])},[(0,l.Lk)("div",$t,[(0,l.Lk)("div",Qt,[(0,l.Lk)("form",{onSubmit:(0,s.D$)(p,["prevent"]),class:"sign-in-form"},[n[8]||(n[8]=(0,l.Lk)("h2",{class:"title"},"Sign in",-1)),(0,l.Lk)("div",qt,[n[6]||(n[6]=(0,l.Lk)("i",{class:"fas fa-user"},null,-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),placeholder:"Email"},null,512),[[s.Jo,o.value]])]),(0,l.Lk)("div",Ht,[n[7]||(n[7]=(0,l.Lk)("i",{class:"fas fa-lock"},null,-1)),(0,l.bo)((0,l.Lk)("input",{type:"password","onUpdate:modelValue":n[1]||(n[1]=e=>i.value=e),placeholder:"Password"},null,512),[[s.Jo,i.value]])]),(0,l.Lk)("button",{type:"button",onClick:p,value:"Login",class:"btn solid"},"Login"),n[9]||(n[9]=(0,l.Fv)('<p class="social-text" data-v-525addf0>Or Sign in with social platforms</p><div class="social-media" data-v-525addf0><a href="#" class="social-icon" data-v-525addf0><i class="fab fa-facebook-f" data-v-525addf0></i></a><a href="#" class="social-icon" data-v-525addf0><i class="fab fa-google" data-v-525addf0></i></a><a href="#" class="social-icon" data-v-525addf0><i class="fab fa-linkedin-in" data-v-525addf0></i></a></div>',2))],32),(0,l.Lk)("form",{onSubmit:(0,s.D$)(p,["prevent"]),class:"sign-up-form"},[n[12]||(n[12]=(0,l.Lk)("h2",{class:"title"},"Sign up",-1)),(0,l.Lk)("div",Yt,[n[10]||(n[10]=(0,l.Lk)("i",{class:"fas fa-envelope"},null,-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=e=>a.value=e),placeholder:"Email"},null,512),[[s.Jo,a.value]])]),(0,l.Lk)("div",Zt,[n[11]||(n[11]=(0,l.Lk)("i",{class:"fas fa-lock"},null,-1)),(0,l.bo)((0,l.Lk)("input",{type:"password","onUpdate:modelValue":n[3]||(n[3]=e=>t.value=e),placeholder:"Password"},null,512),[[s.Jo,t.value]])]),(0,l.Lk)("button",{type:"button",onClick:u,class:"btn"},"Sign Up"),n[13]||(n[13]=(0,l.Fv)('<p class="social-text" data-v-525addf0>Or Sign up with social platforms</p><div class="social-media" data-v-525addf0><a href="#" class="social-icon" data-v-525addf0><i class="fab fa-facebook-f" data-v-525addf0></i></a><a href="#" class="social-icon" data-v-525addf0><i class="fab fa-google" data-v-525addf0></i></a><a href="#" class="social-icon" data-v-525addf0><i class="fab fa-linkedin-in" data-v-525addf0></i></a></div>',2))],32)])]),(0,l.Lk)("div",es,[(0,l.Lk)("div",as,[(0,l.Lk)("div",ts,[n[14]||(n[14]=(0,l.Lk)("h3",null,"New here?",-1)),n[15]||(n[15]=(0,l.Lk)("p",null,[(0,l.eW)(" Join us as a Boother or an Organiser "),(0,l.Lk)("br"),(0,l.eW)(" Start your Journey Here! ")],-1)),(0,l.Lk)("button",{class:"btn transparent",onClick:n[4]||(n[4]=(...a)=>e.toggleMode&&e.toggleMode(...a))},"Sign up")]),n[16]||(n[16]=(0,l.Lk)("img",{src:Gt,class:"image",alt:"Log image"},null,-1))]),(0,l.Lk)("div",ss,[(0,l.Lk)("div",ls,[n[17]||(n[17]=(0,l.Lk)("h3",null,"Have an Account?",-1)),n[18]||(n[18]=(0,l.Lk)("p",null,null,-1)),(0,l.Lk)("button",{class:"btn transparent",onClick:n[5]||(n[5]=(...a)=>e.toggleMode&&e.toggleMode(...a))},"Sign in")]),n[19]||(n[19]=(0,l.Lk)("img",{src:Jt,class:"image",alt:"Register image"},null,-1))])])],2))}},is=(0,E.A)(os,[["__scopeId","data-v-525addf0"]]),ns=is,rs={class:"container py-5"},ds={key:0,class:"position-absolute top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-white bg-opacity-75",style:{"z-index":"1000"}},cs={class:"card shadow-sm"},us={class:"card-body"},vs={key:0},ps={class:"d-flex justify-content-end mb-4"},ms=["disabled"],bs={class:"mb-4"},hs={class:"mb-4"},fs={class:"mb-4"},ks={class:"d-flex flex-wrap gap-2"},gs={class:"mb-4"},Ls={class:"mb-4"},ys={class:"table-responsive"},ws={class:"table"},Cs={class:"mb-4"},Es=["disabled"],_s={class:"mb-4"},xs=["disabled"],Is={class:"mb-4"},As={class:"mb-2"},Ps=["onUpdate:modelValue","disabled"],Ss=["onClick","disabled"],Fs=["disabled"],Rs={class:"mb-4"},Ds=["disabled"],Xs={class:"mb-4"},Bs={class:"mb-2"},Ms=["onUpdate:modelValue","disabled"],Ks=["onUpdate:modelValue","disabled"],Ns=["onClick","disabled"],Us=["disabled"],Os={class:"d-flex gap-2"},Ws=["disabled"],Ts=["disabled"],Vs={key:2,class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"1000"}};function js(e,a,t,o,i,n){return(0,l.uX)(),(0,l.CE)(l.FK,null,[a[20]||(a[20]=(0,l.Lk)("div",{class:"container section-title","data-aos":"fade-up"},[(0,l.Lk)("h2",null,[(0,l.Lk)("div",{class:"title-with-lines"},[(0,l.Lk)("span",{class:"line"}),(0,l.eW)(" Business Profile "),(0,l.Lk)("span",{class:"line"})])])],-1)),(0,l.Lk)("div",rs,[o.loading?((0,l.uX)(),(0,l.CE)("div",ds,a[8]||(a[8]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):(0,l.Q3)("",!0),(0,l.Lk)("div",cs,[(0,l.Lk)("div",us,[o.hasProfile&&!o.isEditing?((0,l.uX)(),(0,l.CE)("div",vs,[(0,l.Lk)("div",ps,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>o.toggleEdit&&o.toggleEdit(...e)),class:"btn btn-primary",disabled:o.loading}," Edit Profile ",8,ms)]),(0,l.Lk)("div",bs,[a[9]||(a[9]=(0,l.Lk)("h3",{class:"h5 fw-bold"},"Business Name",-1)),(0,l.Lk)("p",null,(0,v.v_)(o.businessName),1)]),(0,l.Lk)("div",hs,[a[10]||(a[10]=(0,l.Lk)("h3",{class:"h5 fw-bold"},"Business Description",-1)),(0,l.Lk)("p",null,(0,v.v_)(o.description),1)]),(0,l.Lk)("div",fs,[a[11]||(a[11]=(0,l.Lk)("h3",{class:"h5 fw-bold"},"Business Interests",-1)),(0,l.Lk)("div",ks,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.interests,((e,a)=>((0,l.uX)(),(0,l.CE)("span",{key:a,class:"badge bg-primary"},(0,v.v_)(e),1)))),128))])]),(0,l.Lk)("div",gs,[a[12]||(a[12]=(0,l.Lk)("h3",{class:"h5 fw-bold"},"Business Experience",-1)),(0,l.Lk)("p",null,(0,v.v_)(o.experience),1)]),(0,l.Lk)("div",Ls,[a[14]||(a[14]=(0,l.Lk)("h3",{class:"h5 fw-bold"},"Products",-1)),(0,l.Lk)("div",ys,[(0,l.Lk)("table",ws,[a[13]||(a[13]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Price")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.products,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,v.v_)(e.name),1),(0,l.Lk)("td",null,"$"+(0,v.v_)(e.price.toFixed(2)),1)])))),128))])])])])])):((0,l.uX)(),(0,l.CE)("form",{key:1,onSubmit:a[7]||(a[7]=(0,s.D$)(((...e)=>o.saveBusinessProfile&&o.saveBusinessProfile(...e)),["prevent"]))},[(0,l.Lk)("div",Cs,[a[15]||(a[15]=(0,l.Lk)("label",{for:"businessName",class:"form-label fw-semibold"},"Business Name",-1)),(0,l.bo)((0,l.Lk)("input",{id:"businessName","onUpdate:modelValue":a[1]||(a[1]=e=>o.businessName=e),class:"form-control",placeholder:"Enter your business name",disabled:o.loading,required:""},null,8,Es),[[s.Jo,o.businessName,void 0,{trim:!0}]])]),(0,l.Lk)("div",_s,[a[16]||(a[16]=(0,l.Lk)("label",{for:"description",class:"form-label fw-semibold"},"Business Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"description","onUpdate:modelValue":a[2]||(a[2]=e=>o.description=e),class:"form-control",placeholder:"Describe your business",rows:"4",disabled:o.loading,required:""},null,8,xs),[[s.Jo,o.description,void 0,{trim:!0}]])]),(0,l.Lk)("div",Is,[a[17]||(a[17]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Business Interests",-1)),(0,l.Lk)("div",As,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.interests,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"d-flex gap-2 mb-2"},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e=>o.interests[a]=e,class:"form-control",placeholder:"Enter an interest",disabled:o.loading},null,8,Ps),[[s.Jo,o.interests[a],void 0,{trim:!0}]]),(0,l.Lk)("button",{type:"button",onClick:e=>o.removeInterest(a),class:"btn btn-danger",disabled:o.loading}," â ",8,Ss)])))),128))]),(0,l.Lk)("button",{type:"button",onClick:a[3]||(a[3]=(...e)=>o.addInterest&&o.addInterest(...e)),class:"btn btn-primary",disabled:o.loading}," + Add Interest ",8,Fs)]),(0,l.Lk)("div",Rs,[a[18]||(a[18]=(0,l.Lk)("label",{for:"experience",class:"form-label fw-semibold"},"Business Experience",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"experience","onUpdate:modelValue":a[4]||(a[4]=e=>o.experience=e),class:"form-control",placeholder:"Describe your business experience",rows:"4",disabled:o.loading},null,8,Ds),[[s.Jo,o.experience,void 0,{trim:!0}]])]),(0,l.Lk)("div",Xs,[a[19]||(a[19]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Products",-1)),(0,l.Lk)("div",Bs,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.products,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"d-flex gap-2 mb-2"},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>e.name=a,class:"form-control",placeholder:"Product name",disabled:o.loading,required:""},null,8,Ms),[[s.Jo,e.name,void 0,{trim:!0}]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>e.price=a,type:"number",step:"0.01",min:"0",class:"form-control",placeholder:"Price",disabled:o.loading,required:""},null,8,Ks),[[s.Jo,e.price,void 0,{number:!0}]]),(0,l.Lk)("button",{type:"button",onClick:a=>o.removeProduct(e.id),class:"btn btn-danger",disabled:o.loading}," â ",8,Ns)])))),128))]),(0,l.Lk)("button",{type:"button",onClick:a[5]||(a[5]=(...e)=>o.addProduct&&o.addProduct(...e)),class:"btn btn-primary",disabled:o.loading}," + Add Product ",8,Us)]),(0,l.Lk)("div",Os,[o.hasProfile?((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",onClick:a[6]||(a[6]=(...e)=>o.toggleEdit&&o.toggleEdit(...e)),class:"btn btn-secondary flex-grow-1",disabled:o.loading}," Cancel ",8,Ws)):(0,l.Q3)("",!0),(0,l.Lk)("button",{type:"submit",class:"btn btn-success flex-grow-1",disabled:o.loading||!o.isFormValid},(0,v.v_)(o.loading?"Saving...":"Save Business Profile"),9,Ts)])],32)),o.notification?((0,l.uX)(),(0,l.CE)("div",Vs,[(0,l.Lk)("div",{class:(0,v.C4)(["alert","success"===o.notification.type?"alert-success":"alert-danger"]),role:"alert"},(0,v.v_)(o.notification.message),3)])):(0,l.Q3)("",!0)])])])],64)}const Gs={name:"BusinessProfile",setup(){const e=(0,Ce.KR)(""),a=(0,Ce.KR)(""),t=(0,Ce.KR)([]),s=(0,Ce.KR)(""),o=(0,Ce.KR)([]),i=(0,Ce.KR)(null),n=(0,Ce.KR)(!1),r=(0,Ce.KR)(null),d=(0,Ce.KR)(!1),c=(0,Ce.KR)(!1),u=(0,l.EW)((()=>e.value.trim()&&a.value.trim()&&o.value.every((e=>e.name.trim()&&e.price>=0)))),v=(e,a="success")=>{r.value={message:e,type:a},setTimeout((()=>{r.value=null}),3e3)},p=async()=>{n.value=!0;try{const l=(0,Ee.H9)(Pe,"businessProfiles",i.value),n=await(0,Ee.x7)(l);if(n.exists()){const l=n.data();e.value=l.businessName||"",a.value=l.description||"",t.value=l.interests||[],s.value=l.experience||"",o.value=l.products||[],d.value=!0}}catch(l){console.error("Error fetching business profile: ",l),v("Failed to load business profile","error")}finally{n.value=!1}},m=async()=>{if(u.value){n.value=!0;try{await(0,Ee.BN)((0,Ee.H9)(Pe,"businessProfiles",i.value),{businessName:e.value.trim(),description:a.value.trim(),interests:t.value.map((e=>e.trim())).filter(Boolean),experience:s.value.trim(),products:o.value.map((e=>({...e,name:e.name.trim(),price:Number(e.price)})))}),d.value=!0,c.value=!1,v("Business profile saved successfully")}catch(l){console.error("Error saving business profile: ",l),v("Failed to save business profile","error")}finally{n.value=!1}}},b=()=>{c.value=!c.value},h=()=>{t.value.push("")},f=e=>{t.value.splice(e,1)},k=()=>{o.value.push({id:Date.now(),name:"",price:0})},g=e=>{o.value=o.value.filter((a=>a.id!==e))};return(0,l.sV)((()=>{i.value="current-user-id",p()})),{businessName:e,description:a,interests:t,experience:s,products:o,loading:n,notification:r,hasProfile:d,isEditing:c,isFormValid:u,saveBusinessProfile:m,toggleEdit:b,addInterest:h,removeInterest:f,addProduct:k,removeProduct:g}}},Js=(0,E.A)(Gs,[["render",js],["__scopeId","data-v-145d1eb9"]]),zs=Js,$s={class:"container py-5"},Qs={key:1,class:"card mb-4 shadow-sm"},qs={class:"card-body"},Hs={class:"h5 mb-4"},Ys={class:"mb-4"},Zs={class:"mb-3"},el={class:"d-flex justify-content-end gap-2"},al=["disabled"],tl={class:"profiles-list"},sl={key:0,class:"h4 mb-4"},ll={class:"row g-4"},ol={class:"card shadow-sm hover-shadow"},il={class:"card-body"},nl={class:"d-flex justify-content-between align-items-start"},rl={class:"profile-info flex-grow-1"},dl={class:"d-flex justify-content-between"},cl={class:"h5 mb-3"},ul={class:"text-muted small"},vl={class:"text-muted mb-2"},pl={class:"d-flex align-items-center gap-2"},ml={class:"badge bg-primary-subtle text-primary"},bl={class:"profile-actions mt-3 d-flex justify-content-end gap-2"},hl=["onClick"],fl=["onClick"],kl={key:1,class:"text-center py-5 text-muted"};function gl(e,a,t,o,i,n){return(0,l.uX)(),(0,l.CE)(l.FK,null,[a[10]||(a[10]=(0,l.Lk)("div",{class:"container section-title","data-aos":"fade-up"},[(0,l.Lk)("h2",null,[(0,l.Lk)("div",{class:"title-with-lines"},[(0,l.Lk)("span",{class:"line"}),(0,l.eW)(" Application Profiles "),(0,l.Lk)("span",{class:"line"})])])],-1)),(0,l.Lk)("div",$s,[o.showNewProfileForm?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:a[0]||(a[0]=e=>o.showNewProfileForm=!0),class:"btn btn-primary w-100 mb-4"}," Create New Application Profile ")),o.showNewProfileForm?((0,l.uX)(),(0,l.CE)("div",Qs,[(0,l.Lk)("div",qs,[(0,l.Lk)("h3",Hs,(0,v.v_)(o.editingProfileId?"Edit":"Create New")+" Application Profile ",1),(0,l.Lk)("div",Ys,[(0,l.Lk)("div",Zs,[a[6]||(a[6]=(0,l.Lk)("label",{class:"form-label"},"Profile Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.newProfile.name=e),placeholder:"Enter profile name",class:"form-control mb-3",required:""},null,512),[[s.Jo,o.newProfile.name]]),a[7]||(a[7]=(0,l.Lk)("label",{class:"form-label"},"Profile Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.newProfile.description=e),placeholder:"Enter profile description",class:"form-control mb-3",style:{"min-height":"100px"},required:""},"            ",512),[[s.Jo,o.newProfile.description]]),a[8]||(a[8]=(0,l.Lk)("label",{class:"form-label"},"Profile Focus",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>o.newProfile.focus=e),placeholder:"Enter profile focus",class:"form-control",required:""},null,512),[[s.Jo,o.newProfile.focus]])]),(0,l.Lk)("div",el,[(0,l.Lk)("button",{onClick:a[4]||(a[4]=(...e)=>o.cancelEdit&&o.cancelEdit(...e)),class:"btn btn-outline-secondary"}," Cancel "),(0,l.Lk)("button",{onClick:a[5]||(a[5]=(...e)=>o.saveProfile&&o.saveProfile(...e)),class:"btn btn-primary",disabled:!o.isFormValid}," Save Profile ",8,al)])])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",tl,[o.applicationProfiles.length>0?((0,l.uX)(),(0,l.CE)("h3",sl,"Your Profiles")):(0,l.Q3)("",!0),(0,l.Lk)("div",ll,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.applicationProfiles,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-12"},[(0,l.Lk)("div",ol,[(0,l.Lk)("div",il,[(0,l.Lk)("div",nl,[(0,l.Lk)("div",rl,[(0,l.Lk)("div",dl,[(0,l.Lk)("h4",cl,(0,v.v_)(e.name),1),(0,l.Lk)("span",ul," Created: "+(0,v.v_)(o.formatDate(e.createdAt)),1)]),(0,l.Lk)("p",vl,(0,v.v_)(e.description),1),(0,l.Lk)("div",pl,[(0,l.Lk)("span",ml," Focus: "+(0,v.v_)(e.focus),1)])])]),(0,l.Lk)("div",bl,[(0,l.Lk)("button",{onClick:a=>o.editProfile(e.id),class:"btn btn-outline-primary btn-sm"}," Edit ",8,hl),(0,l.Lk)("button",{onClick:a=>o.confirmDelete(e.id),class:"btn btn-outline-danger btn-sm"}," Delete ",8,fl)])])])])))),128))]),0===o.applicationProfiles.length?((0,l.uX)(),(0,l.CE)("div",kl,a[9]||(a[9]=[(0,l.Lk)("p",null,"No application profiles created yet. Create your first profile to get started!",-1)]))):(0,l.Q3)("",!0)])])],64)}const Ll={name:"ApplicationProfiles",setup(){const e=(0,Ce.KR)([]),a=(0,Ce.KR)(!1),t=(0,Ce.Kh)({name:"",description:"",focus:""}),s=(0,Ce.KR)(null),o=(0,Ce.KR)(null),i=(0,l.EW)((()=>t.name.trim()&&t.description.trim()&&t.focus.trim())),n=async()=>{try{const a=await(0,Ee.GG)((0,Ee.rJ)(Pe,"businessProfiles",s.value,"applicationProfiles"));e.value=a.docs.map((e=>({id:e.id,...e.data(),createdAt:e.data().createdAt?.toDate()||new Date}))).sort(((e,a)=>a.createdAt-e.createdAt))}catch(a){console.error("Error fetching profiles: ",a)}},r=async()=>{try{const e={...t,createdAt:(0,Ee.O5)(),updatedAt:(0,Ee.O5)()};o.value?await(0,Ee.mZ)((0,Ee.H9)(Pe,"businessProfiles",s.value,"applicationProfiles",o.value),e):await(0,Ee.gS)((0,Ee.rJ)(Pe,"businessProfiles",s.value,"applicationProfiles"),e),a.value=!1,o.value=null,Object.assign(t,{name:"",description:"",focus:""}),await n()}catch(e){console.error("Error saving profile: ",e)}},d=s=>{const l=e.value.find((e=>e.id===s));l&&(Object.assign(t,l),o.value=s,a.value=!0)},c=async e=>{window.confirm("Are you sure you want to delete this profile?")&&await u(e)},u=async e=>{try{await(0,Ee.kd)((0,Ee.H9)(Pe,"businessProfiles",s.value,"applicationProfiles",e)),await n()}catch(a){console.error("Error deleting profile: ",a)}},v=()=>{a.value=!1,o.value=null,Object.assign(t,{name:"",description:"",focus:""})},p=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return(0,l.sV)((()=>{s.value="testUser",n()})),{applicationProfiles:e,showNewProfileForm:a,newProfile:t,isFormValid:i,saveProfile:r,editProfile:d,deleteProfile:u,confirmDelete:c,cancelEdit:v,editingProfileId:o,formatDate:p}}},yl=(0,E.A)(Ll,[["render",gl],["__scopeId","data-v-ec00911e"]]),wl=yl,Cl={class:"container py-4"},El={key:0,class:"position-absolute top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-white bg-opacity-75",style:{"z-index":"1000"}},_l={class:"card shadow-sm"},xl={class:"card-body"},Il={class:"d-flex justify-content-between align-items-center mb-4"},Al=["disabled"],Pl={key:0,class:"text-center py-5 text-muted"},Sl={key:1,class:"table-responsive"},Fl={class:"table"},Rl={class:"btn-group btn-group-sm"},Dl=["onClick","disabled"],Xl=["onClick","disabled"],Bl={key:1,class:"modal fade show d-block",style:{"background-color":"rgba(0, 0, 0, 0.5)"}},Ml={class:"modal-dialog modal-dialog-centered"},Kl={class:"modal-content"},Nl={class:"modal-header"},Ul={class:"modal-title"},Ol={class:"modal-body"},Wl={class:"mb-3"},Tl={class:"mb-3"},Vl={class:"ms-2"},jl={class:"mb-3"},Gl={class:"ms-2"},Jl={class:"mb-3"},zl={class:"ms-2"},$l={class:"mb-0 mt-1"},Ql={class:"modal-footer"},ql={key:2,class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"1100"}},Hl={class:"toast-body text-white"};function Yl(e,a,t,s,o,i){return(0,l.uX)(),(0,l.CE)(l.FK,null,[a[12]||(a[12]=(0,l.Lk)("div",{class:"container section-title","data-aos":"fade-up"},[(0,l.Lk)("h2",null,[(0,l.Lk)("div",{class:"title-with-lines"},[(0,l.Lk)("span",{class:"line"}),(0,l.eW)(" Event Applications "),(0,l.Lk)("span",{class:"line"})])])],-1)),(0,l.Lk)("div",Cl,[s.loading?((0,l.uX)(),(0,l.CE)("div",El,a[4]||(a[4]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):(0,l.Q3)("",!0),(0,l.Lk)("div",_l,[(0,l.Lk)("div",xl,[(0,l.Lk)("div",Il,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>s.createNewApplication&&s.createNewApplication(...e)),class:"btn btn-success",disabled:s.loading}," + View Available Booths ",8,Al)]),0!==s.applications.length||s.loading?((0,l.uX)(),(0,l.CE)("div",Sl,[(0,l.Lk)("table",Fl,[a[6]||(a[6]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Event Name"),(0,l.Lk)("th",null,"Date"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Last Updated"),(0,l.Lk)("th",null,"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.sortedApplications,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,v.v_)(e.eventName),1),(0,l.Lk)("td",null,(0,v.v_)(s.formatDate(e.date)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(s.getBadgeClass(e.status))},(0,v.v_)(e.status),3)]),(0,l.Lk)("td",null,(0,v.v_)(s.formatDate(e.updatedAt)),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",Rl,[(0,l.Lk)("button",{onClick:a=>s.viewApplication(e),class:"btn btn-primary",disabled:s.loading}," View ",8,Dl),(0,l.Lk)("button",{onClick:a=>s.editApplication(e),class:"btn btn-warning",disabled:s.loading||!s.isEditable(e)}," Edit ",8,Xl)])])])))),128))])])])):((0,l.uX)(),(0,l.CE)("div",Pl,a[5]||(a[5]=[(0,l.Lk)("p",{class:"mb-0"}," No applications found. Start by applying for an event! ",-1)])))])]),s.selectedApplication?((0,l.uX)(),(0,l.CE)("div",Bl,[(0,l.Lk)("div",Ml,[(0,l.Lk)("div",Kl,[(0,l.Lk)("div",Nl,[(0,l.Lk)("h5",Ul,(0,v.v_)(s.selectedApplication.eventName),1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:a[1]||(a[1]=(...e)=>s.closeModal&&s.closeModal(...e))})]),(0,l.Lk)("div",Ol,[(0,l.Lk)("div",Wl,[a[7]||(a[7]=(0,l.Lk)("strong",{class:"text-muted"},"Status:",-1)),(0,l.Lk)("span",{class:(0,v.C4)([s.getBadgeClass(s.selectedApplication.status),"ms-2"])},(0,v.v_)(s.selectedApplication.status),3)]),(0,l.Lk)("div",Tl,[a[8]||(a[8]=(0,l.Lk)("strong",{class:"text-muted"},"Date:",-1)),(0,l.Lk)("span",Vl,(0,v.v_)(s.formatDate(s.selectedApplication.date)),1)]),(0,l.Lk)("div",jl,[a[9]||(a[9]=(0,l.Lk)("strong",{class:"text-muted"},"Submitted:",-1)),(0,l.Lk)("span",Gl,(0,v.v_)(s.formatDate(s.selectedApplication.createdAt)),1)]),(0,l.Lk)("div",Jl,[a[10]||(a[10]=(0,l.Lk)("strong",{class:"text-muted"},"Last Updated:",-1)),(0,l.Lk)("span",zl,(0,v.v_)(s.formatDate(s.selectedApplication.updatedAt)),1)]),(0,l.Lk)("div",null,[a[11]||(a[11]=(0,l.Lk)("strong",{class:"text-muted"},"Notes:",-1)),(0,l.Lk)("p",$l,(0,v.v_)(s.selectedApplication.notes||"No notes available"),1)])]),(0,l.Lk)("div",Ql,[s.isEditable(s.selectedApplication)?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:a[2]||(a[2]=e=>s.editApplication(s.selectedApplication)),class:"btn btn-warning"}," Edit Application ")):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:a[3]||(a[3]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"btn btn-secondary"},"Close")])])])])):(0,l.Q3)("",!0),s.notification?((0,l.uX)(),(0,l.CE)("div",ql,[(0,l.Lk)("div",{class:(0,v.C4)(["toast show",{"bg-success":"success"===s.notification.type,"bg-danger":"error"===s.notification.type}]),role:"alert"},[(0,l.Lk)("div",Hl,(0,v.v_)(s.notification.message),1)],2)])):(0,l.Q3)("",!0)])],64)}const Zl={name:"EventApplications",setup(){const e=(0,S.rd)(),a=(0,Ce.KR)([]),t=(0,Ce.KR)(!1),s=(0,Ce.KR)(null),o=(0,Ce.KR)(null),i=(0,Ce.KR)(null),n=(0,l.EW)((()=>[...a.value].sort(((e,a)=>new Date(a.updatedAt)-new Date(e.updatedAt))))),r=e=>{const a="badge ";switch(e.toLowerCase()){case"draft":return a+"bg-info";case"pending":return a+"bg-warning text-dark";case"approved":return a+"bg-success";case"rejected":return a+"bg-danger";default:return a+"bg-secondary"}},d=(e,a="success")=>{i.value={message:e,type:a},setTimeout((()=>{i.value=null}),3e3)},c=async()=>{t.value=!0;try{const e=(0,Ee.P)((0,Ee.rJ)(Pe,"eventApplications"),(0,Ee._M)("userId","==",s.value),(0,Ee.My)("updatedAt","desc")),t=await(0,Ee.GG)(e);a.value=t.docs.map((e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching applications:",e),d("Failed to load applications","error")}finally{t.value=!1}},u=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",v=e=>["DRAFT","PENDING"].includes(e.status),p=e=>{o.value=e},m=a=>{v(a)?e.push(`/applications/${a.id}/edit`):d("This application cannot be edited","error")},b=()=>{e.push("/booths")},h=()=>{o.value=null};return(0,l.sV)((async()=>{await c()})),{applications:a,sortedApplications:n,loading:t,selectedApplication:o,notification:i,formatDate:u,viewApplication:p,editApplication:m,createNewApplication:b,closeModal:h,isEditable:v,getBadgeClass:r}}},eo=(0,E.A)(Zl,[["render",Yl],["__scopeId","data-v-01ebca4d"]]),ao=eo,to={class:"payments-page"},so={key:0,class:"loading-overlay"},lo={class:"payments-container"},oo={class:"header"},io=["disabled"],no={class:"section"},ro={key:0,class:"empty-state"},co={key:1,class:"payment-methods"},uo={class:"card-content"},vo={key:0},po={key:1},mo={key:2},bo={class:"card-details"},ho={class:"card-number"},fo={class:"card-expiry"},ko={class:"card-actions"},go=["onClick"],Lo={key:1,class:"default-badge"},yo=["onClick"],wo={class:"section"},Co={class:"transaction-filters"},Eo={key:0,class:"empty-state"},_o={key:1,class:"transactions-table"},xo={key:1,class:"modal-overlay"},Io={class:"modal"},Ao={class:"modal-header"},Po={class:"modal-content"},So={key:0,class:"error-message"},Fo={class:"modal-footer"},Ro=["disabled"],Do=["disabled"];function Xo(e,a,t,o,i,n){return(0,l.uX)(),(0,l.CE)(l.FK,null,[a[15]||(a[15]=(0,l.Lk)("div",{class:"container section-title","data-aos":"fade-up"},[(0,l.Lk)("h2",null,[(0,l.Lk)("div",{class:"title-with-lines"},[(0,l.Lk)("span",{class:"line"}),(0,l.eW)(" Payments "),(0,l.Lk)("span",{class:"line"})])])],-1)),(0,l.Lk)("div",to,[o.loading?((0,l.uX)(),(0,l.CE)("div",so,a[6]||(a[6]=[(0,l.Lk)("div",{class:"loading-spinner"},null,-1)]))):(0,l.Q3)("",!0),(0,l.Lk)("div",lo,[(0,l.Lk)("div",oo,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=e=>o.showPaymentModal=!0),class:"add-payment-btn",disabled:o.loading}," + Add Payment Method ",8,io)]),(0,l.Lk)("div",no,[a[8]||(a[8]=(0,l.Lk)("h2",{class:"section-title"},"Payment Methods",-1)),0===o.paymentMethods.length?((0,l.uX)(),(0,l.CE)("div",ro,a[7]||(a[7]=[(0,l.Lk)("p",null,"No payment methods added yet",-1)]))):((0,l.uX)(),(0,l.CE)("div",co,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.paymentMethods,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"payment-method-card"},[(0,l.Lk)("div",uo,[(0,l.Lk)("div",{class:(0,v.C4)(["card-icon",e.brand])},["visa"===e.brand?((0,l.uX)(),(0,l.CE)("span",vo,"Visa")):"mastercard"===e.brand?((0,l.uX)(),(0,l.CE)("span",po,"Mastercard")):((0,l.uX)(),(0,l.CE)("span",mo,"Card"))],2),(0,l.Lk)("div",bo,[(0,l.Lk)("p",ho,"â¢â¢â¢â¢ â¢â¢â¢â¢ â¢â¢â¢â¢ "+(0,v.v_)(e.last4),1),(0,l.Lk)("p",fo," Expires "+(0,v.v_)(e.expMonth)+"/"+(0,v.v_)(e.expYear),1)])]),(0,l.Lk)("div",ko,[e.isDefault?((0,l.uX)(),(0,l.CE)("span",Lo,"Default")):((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:a=>o.setDefaultPaymentMethod(e.id),class:"set-default-btn"}," Set as Default ",8,go)),(0,l.Lk)("button",{onClick:a=>o.removePaymentMethod(e.id),class:"remove-btn"}," Remove ",8,yo)])])))),128))]))]),(0,l.Lk)("div",wo,[a[12]||(a[12]=(0,l.Lk)("h2",{class:"section-title"},"Transaction History",-1)),(0,l.Lk)("div",Co,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.filterStatus=e),class:"filter-select"},a[9]||(a[9]=[(0,l.Lk)("option",{value:"all"},"All Transactions",-1),(0,l.Lk)("option",{value:"successful"},"Successful",-1),(0,l.Lk)("option",{value:"pending"},"Pending",-1),(0,l.Lk)("option",{value:"failed"},"Failed",-1)]),512),[[s.u1,o.filterStatus]]),(0,l.bo)((0,l.Lk)("input",{type:"month","onUpdate:modelValue":a[2]||(a[2]=e=>o.filterMonth=e),class:"filter-month"},null,512),[[s.Jo,o.filterMonth]])]),0===o.filteredTransactions.length?((0,l.uX)(),(0,l.CE)("div",Eo,a[10]||(a[10]=[(0,l.Lk)("p",null,"No transactions found",-1)]))):((0,l.uX)(),(0,l.CE)("div",_o,[(0,l.Lk)("table",null,[a[11]||(a[11]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Date"),(0,l.Lk)("th",null,"Description"),(0,l.Lk)("th",null,"Amount"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Payment Method")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.filteredTransactions,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,v.v_)(o.formatDate(e.date)),1),(0,l.Lk)("td",null,(0,v.v_)(e.description),1),(0,l.Lk)("td",null,(0,v.v_)(o.formatAmount(e.amount)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status-badge",e.status.toLowerCase()])},(0,v.v_)(e.status),3)]),(0,l.Lk)("td",null,"â¢â¢â¢â¢ "+(0,v.v_)(e.last4),1)])))),128))])])]))])]),o.showPaymentModal?((0,l.uX)(),(0,l.CE)("div",xo,[(0,l.Lk)("div",Io,[(0,l.Lk)("div",Ao,[a[13]||(a[13]=(0,l.Lk)("h3",null,"Add Payment Method",-1)),(0,l.Lk)("button",{onClick:a[3]||(a[3]=(...e)=>o.closePaymentModal&&o.closePaymentModal(...e)),class:"close-btn"},"â")]),(0,l.Lk)("div",Po,[a[14]||(a[14]=(0,l.Lk)("div",{id:"stripe-elements"},null,-1)),o.cardError?((0,l.uX)(),(0,l.CE)("div",So,(0,v.v_)(o.cardError),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Fo,[(0,l.Lk)("button",{onClick:a[4]||(a[4]=(...e)=>o.closePaymentModal&&o.closePaymentModal(...e)),class:"cancel-btn",disabled:o.processing}," Cancel ",8,Ro),(0,l.Lk)("button",{onClick:a[5]||(a[5]=(...e)=>o.submitPaymentMethod&&o.submitPaymentMethod(...e)),class:"submit-btn",disabled:o.processing},(0,v.v_)(o.processing?"Processing...":"Add Payment Method"),9,Do)])])])):(0,l.Q3)("",!0),o.notification?((0,l.uX)(),(0,l.CE)("div",{key:2,class:(0,v.C4)(["notification",o.notification.type])},(0,v.v_)(o.notification.message),3)):(0,l.Q3)("",!0)])],64)}const Bo={name:"Payments",setup(){const e=(0,Ce.KR)(null),a=((0,Ce.KR)(null),(0,Ce.KR)(null)),t=(0,Ce.KR)(!1),s=(0,Ce.KR)(!1),o=(0,Ce.KR)(!1),i=(0,Ce.KR)(null),n=(0,Ce.KR)(null),r=(0,Ce.KR)(null),d=(0,Ce.KR)([]),c=(0,Ce.KR)([]),u=(0,Ce.KR)("all"),v=(0,Ce.KR)(""),p=(0,Ce.KR)(null);(0,l.hi)((()=>{a.value&&a.value.unmount()}));const m=(e,a="success")=>{n.value={message:e,type:a},setTimeout((()=>{n.value=null}),3e3)},b=async()=>{t.value=!0;try{const e=(0,Ee.P)((0,Ee.rJ)(Pe,"paymentMethods"),(0,Ee._M)("userId","==",r.value)),a=await(0,Ee.GG)(e);d.value=a.docs.map((e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching payment methods:",e),m("Failed to load payment methods","error")}finally{t.value=!1}},h=async()=>{s.value=!0;try{const t=await e.value.confirmCardSetup(p.value,{payment_method:{card:a.value,billing_details:{}}});if(t.error)throw t.error;const s=await e.value.paymentMethods.retrieve(t.setupIntent.payment_method);await(0,Ee.gS)((0,Ee.rJ)(Pe,"paymentMethods"),{userId:r.value,paymentMethodId:t.setupIntent.payment_method,brand:s.card.brand,last4:s.card.last4,expMonth:s.card.exp_month,expYear:s.card.exp_year,isDefault:0===d.value.length}),m("Payment method added successfully"),g(),b()}catch(t){console.error("Error adding payment method:",t),i.value=t.message}finally{s.value=!1}},f=async e=>{t.value=!0;try{const a=await getAuth().currentUser.getIdToken(),t=await fetch("/api/set-default-payment-method",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({userId:r.value,paymentMethodId:e})});if(!t.ok)throw new Error("Failed to set default payment method");const s=d.value.find((e=>e.isDefault));s&&await(0,Ee.mZ)((0,Ee.H9)(Pe,"paymentMethods",s.id),{isDefault:!1}),await(0,Ee.mZ)((0,Ee.H9)(Pe,"paymentMethods",e),{isDefault:!0}),m("Default payment method updated"),b()}catch(a){console.error("Error setting default payment method:",a),m("Failed to update default payment method","error")}finally{t.value=!1}},k=async e=>{if(confirm("Are you sure you want to remove this payment method?")){t.value=!0;try{const a=await getAuth().currentUser.getIdToken(),t=await fetch(`/api/payment-methods/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({userId:r.value})});if(!t.ok)throw new Error("Failed to remove payment method");m("Payment method removed"),b()}catch(a){console.error("Error removing payment method:",a),m("Failed to remove payment method","error")}finally{t.value=!1}}},g=()=>{o.value=!1,i.value=null,a.value&&a.value.clear()},L=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),y=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e/100),w=(0,l.EW)((()=>c.value.filter((e=>{const a="all"===u.value||e.status.toLowerCase()===u.value,t=!v.value||e.date.startsWith(v.value);return a&&t}))));return{loading:t,processing:s,showPaymentModal:o,cardError:i,notification:n,paymentMethods:d,transactions:c,filteredTransactions:w,filterStatus:u,filterMonth:v,submitPaymentMethod:h,setDefaultPaymentMethod:f,removePaymentMethod:k,closePaymentModal:g,formatDate:L,formatAmount:y}}},Mo=(0,E.A)(Bo,[["render",Xo],["__scopeId","data-v-be9f4ab8"]]),Ko=Mo,No=[{path:"/",name:"Home",component:V},{path:"/apply",name:"Apply",component:Lt},{path:"/booths/:id",name:"booth-details",component:we,props:!0},{path:"/booths",name:"Booth",component:re},{path:"/eventreviews",name:"Events",component:lt},{path:"/forum",name:"Forum",component:Lt},{path:"/collaborate",name:"Collaborate",component:jt},{path:"/about",name:"About",component:bt},{path:"/login",name:"Login",component:ns},{path:"/businessprofile",name:"BusinessProfile",component:zs},{path:"/applicationprofiles",name:"ApplicationProfiles",component:wl},{path:"/eventapplications",name:"EventApplications",component:ao},{path:"/payments",name:"Payments",component:Ko},{path:"/:pathMatch(.*)*",name:"NotFound",component:Lt}],Uo=(0,S.aE)({history:(0,S.LA)("/"),routes:No}),Oo=Uo,Wo=(0,w.y$)({state:{user:{loggedIn:!1,data:null}},getters:{user(e){return e.user}},mutations:{SET_LOGGED_IN(e,a){e.user.loggedIn=a},SET_USER(e,a){e.user.data=a}},actions:{fetchUser({commit:e},a){e("SET_LOGGED_IN",null!==a),e("SET_USER",a?{displayName:a.displayName,email:a.email}:null)}}}),To=Wo;var Vo=t(107),jo=t(273),Go=t(188),Jo=t(875),zo=t(897),$o=(t(784),t(42)),Qo=t.n($o);Qo().init({duration:800,easing:"ease-in-out",once:!0,mirror:!1}),Vo.Yv.add(Go.X7I,zo.C91,Jo.Cvc);const qo=(0,s.Ef)(P);qo.use(Oo),qo.use(To),qo.component("fa",jo.gc),qo.component("font-awesome-icon",jo.gc),qo.mount("#app"),window.store=To}},a={};function t(s){var l=a[s];if(void 0!==l)return l.exports;var o=a[s]={exports:{}};return e[s].call(o.exports,o,o.exports,t),o.exports}t.m=e,(()=>{t.amdO={}})(),(()=>{var e=[];t.O=(a,s,l,o)=>{if(!s){var i=1/0;for(c=0;c<e.length;c++){for(var[s,l,o]=e[c],n=!0,r=0;r<s.length;r++)(!1&o||i>=o)&&Object.keys(t.O).every((e=>t.O[e](s[r])))?s.splice(r--,1):(n=!1,o<i&&(i=o));if(n){e.splice(c--,1);var d=l();void 0!==d&&(a=d)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,l,o]}})(),(()=>{t.n=e=>{var a=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(a,{a}),a}})(),(()=>{t.d=(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.p="/"})(),(()=>{var e={524:0};t.O.j=a=>0===e[a];var a=(a,s)=>{var l,o,[i,n,r]=s,d=0;if(i.some((a=>0!==e[a]))){for(l in n)t.o(n,l)&&(t.m[l]=n[l]);if(r)var c=r(t)}for(a&&a(s);d<i.length;d++)o=i[d],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},s=self["webpackChunkvenuevibe"]=self["webpackChunkvenuevibe"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var s=t.O(void 0,[504],(()=>t(772)));s=t.O(s)})();
//# sourceMappingURL=app.d37dd6d5.js.map